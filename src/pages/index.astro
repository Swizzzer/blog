---
import { Image } from 'astro:assets'
import PageLayout from '@/layouts/BaseLayout.astro'
import Section from '@/components/home/Section.astro'
import avatar from '@/assets/avatar.jpg'
import config from '@/site-config'
---

<PageLayout meta={{ title: 'Home' }} highlightColor='#659EB9'>
  <main class='flex w-full flex-col items-center'>
    <section class='animate mb-10 flex flex-col items-center gap-y-7' id='content-header'>
      <Image
        src={avatar}
        alt='profile'
        class='h-28 w-auto rounded-full border p-1'
        loading='eager'
      />

      <div class='flex flex-col items-center gap-y-4'>
        <h1 class='text-3xl font-bold'>{config.author}</h1>
      </div>
    </section>

    <div id='content' class='animate flex flex-col gap-y-10 md:w-4/5 lg:w-5/6'>
      <Section>
        <p
          id='home-thankyou-text'
          data-animated-text
          class='text-muted-foreground text-balance leading-relaxed cursor-pointer transition-opacity hover:opacity-80'
        >
          No, thank you!
        </p>
      </Section>
      <script>import '../assets/scripts/home-text-animation.ts'</script>

      <style is:inline>
        #home-thankyou-text {
          font-size: clamp(1.75rem, 2.5vw, 2.35rem);
          font-weight: 600;
          letter-spacing: 0.06em;
          line-height: 1.35;
        }

        #home-thankyou-text [data-text-word] {
          display: inline-block;
          overflow: hidden;
        }

        #home-thankyou-text [data-text-char] {
          display: inline-block;
        }
      </style>

      <div id='clock-section' class='animate flex flex-col sm:flex-row items-center justify-center gap-8 sm:gap-12 py-10 cursor-pointer'>
        <div class='clock-container'>
          <svg
            id='animated-clock'
            viewBox='0 0 120 120'
            class='clock-svg'
            xmlns='http://www.w3.org/2000/svg'
          >
            <circle cx='60' cy='60' r='58' fill='none' stroke='currentColor' stroke-width='2' />
            <circle cx='60' cy='60' r='4' fill='currentColor' />
            <line
              x1='60'
              y1='60'
              x2='60'
              y2='20'
              stroke='currentColor'
              stroke-width='3'
              stroke-linecap='round'
            />
          </svg>
        </div>
        <div class='clock-container'>
          <svg
            id='pointer-clock'
            viewBox='0 0 120 120'
            class='clock-svg'
            xmlns='http://www.w3.org/2000/svg'
          >
            <circle cx='60' cy='60' r='58' fill='none' stroke='currentColor' stroke-width='2' />
            <circle cx='60' cy='60' r='4' fill='currentColor' />
            <line
              x1='60'
              y1='60'
              x2='60'
              y2='20'
              stroke='currentColor'
              stroke-width='3'
              stroke-linecap='round'
            />
          </svg>
        </div>
      </div>
      <script>import '../assets/scripts/clock-animation.ts'</script>

      <style is:inline>
        .clock-container {
          width: 140px;
          height: 140px;
          flex-shrink: 0;
        }

        .clock-svg {
          width: 100%;
          height: 100%;
          color: hsl(var(--primary));
          transform-origin: center;
        }

        @media (prefers-reduced-motion: reduce) {
          #animated-clock {
            animation: none !important;
          }
        }
      </style>
    </div>
  </main>
</PageLayout>
