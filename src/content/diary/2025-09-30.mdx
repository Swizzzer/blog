---
title: "侧信道的可能"
date: 2025-09-30
weather: "暴雨"
---

import { Collapse, Spoiler } from 'astro-pure/user'

我并非逆向高手，今天抱着学习Zig的心理试着写了个简陋的栈机。最初的想法是用栈机把核心的加密过程给包起来，而获取用户输入和密文比较、输出等功能打算放在栈机之外。这其实就是最朴素的一类逆向题，"用户输入-加密-与已知密文比较-"，一切困难度设计都在加密算法上。

我这一题使用的加密是一种流密码，加密算法又包裹了一层栈机，相当于对加密算法做了混淆。不过写好之后我突然发觉，单单混淆加密算法完全不够的。

忽略对算法本身的逆向，直接把流密码看成黑盒函数$f(x)$，因为我们完全有能力获取到$f$的输出，所以我们相当于获得了一个无限次的加密oracle。流密码的加解密完全一致，所以喂进去密文就能拿到明文；密文是硬编码在二进制里的，所以...

> 理论上我们直接把密文送进去然后下断点查看内存就能拿到明文flag了?

<Spoiler>逆向题确实不建议使用流密码嗷😇</Spoiler>

直接上手测了一下，我这题因为zig编译产物太脏，"盯帧出加密后密文的具体内存位置"的难度跟直接逆向算法的难度差不太多。如果是更干净的编译产物，八成就直接侧信道非了。

所以说在动调面前还是老老实实把整个二进制都混淆了比较好，贪图省事是很危险的...


